<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Guide to IP Addresses & Routing</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm & Authoritative Neutrals -->
    <!-- Application Structure Plan: The SPA is structured as a narrative journey, starting with the fundamental building block (the IP address), moving to its organization (classification), then to the core process (routing), and finally illustrating the complete end-to-end data journey. This thematic flow (What -> How -> Where -> Full Picture) is more intuitive for learning than the report's structure. Key interactions include toggles to switch between IPv4/IPv6 views, clickable cards to reveal details about routing protocols, and an animated HTML/CSS diagram to visualize the hop-by-hop process, making abstract concepts tangible. -->
    <!-- Visualization & Content Choices: 
        - Report Info: IPv4 vs IPv6 Address Space -> Goal: Compare -> Viz: Donut Chart -> Interaction: Hover for details -> Justification: Visually represents the immense scale difference. -> Library: Chart.js.
        - Report Info: Classful Addressing Host Capacity -> Goal: Compare -> Viz: Bar Chart -> Interaction: Hover for exact numbers -> Justification: Clearly shows the rigid and wasteful allocation of the old system. -> Library: Chart.js.
        - Report Info: Routing Protocols (BGP, OSPF, RIP) -> Goal: Organize/Compare -> Viz: Interactive Cards -> Interaction: Click/Tap to expand -> Justification: Allows users to explore each protocol's details without cluttering the main view. -> Method: HTML/CSS/JS.
        - Report Info: Hop-by-Hop Data Transfer -> Goal: Change/Process -> Viz: Animated Flow Diagram -> Interaction: Automatic with scroll triggers -> Justification: Dynamically illustrates the packet's journey, making the process easy to follow. -> Method: HTML/CSS/JS.
        - Report Info: CIDR vs Classful -> Goal: Compare -> Viz: Side-by-side text blocks with interactive slider -> Interaction: Slide to see how CIDR prefix changes network size -> Justification: Provides a hands-on way to understand CIDR's flexibility. -> Method: HTML/CSS/JS.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F9FA;
            color: #495057;
        }
        .section-title {
            color: #212529;
        }
        .accent-color {
            color: #007BFF;
        }
        .card {
            background-color: #FFFFFF;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 350px;
        }
        .nav-button {
            transition: background-color 0.3s, color 0.3s;
        }
        .nav-button.active {
            background-color: #007BFF;
            color: #FFFFFF;
        }
        .flow-step {
            opacity: 0.3;
            transition: opacity 0.5s ease-in-out;
        }
        .flow-step.visible {
            opacity: 1;
        }
    </style>
</head>
<body class="antialiased">

    <div class="container mx-auto p-4 md:p-8 max-w-6xl">

        <header class="text-center my-12">
            <h1 class="text-4xl md:text-5xl font-bold section-title">The Internet's Address Book</h1>
            <p class="text-lg mt-2 text-gray-600">An Interactive Exploration of IP Addresses and Network Routing</p>
        </header>

        <nav class="sticky top-0 bg-white/80 backdrop-blur-sm z-10 py-4 mb-12 rounded-lg shadow-sm">
            <div class="flex justify-center space-x-2 md:space-x-4">
                <a href="#addressing" class="nav-button px-4 py-2 rounded-full text-sm font-semibold text-gray-700 hover:bg-gray-200">1. Addressing</a>
                <a href="#classification" class="nav-button px-4 py-2 rounded-full text-sm font-semibold text-gray-700 hover:bg-gray-200">2. Classification</a>
                <a href="#routing" class="nav-button px-4 py-2 rounded-full text-sm font-semibold text-gray-700 hover:bg-gray-200">3. Routing</a>
                <a href="#journey" class="nav-button px-4 py-2 rounded-full text-sm font-semibold text-gray-700 hover:bg-gray-200">4. The Journey</a>
            </div>
        </nav>

        <main>
            <!-- SECTION 1: ADDRESSING -->
            <section id="addressing" class="mb-20 scroll-mt-24">
                <h2 class="text-3xl font-bold text-center mb-4 section-title">What is an IP Address?</h2>
                <p class="text-center max-w-3xl mx-auto mb-10">An IP address is a unique numerical label for every device on a network, like a mailing address for a house. It ensures data packets—small chunks of information—arrive at the correct destination. This system has evolved to support the internet's massive growth, moving from the limited IPv4 to the vast IPv6.</p>
                
                <div class="card p-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                        <div class="text-center">
                            <h3 class="text-2xl font-bold mb-4 section-title" id="ipVersionTitle">IPv4 vs. IPv6 Address Space</h3>
                            <p class="text-sm mb-4">The most critical difference between IPv4 and IPv6 is the sheer number of available addresses. IPv4's 4.3 billion addresses have been exhausted, while IPv6 offers a virtually limitless supply for the future. Hover over the chart to see the comparison.</p>
                            <div class="font-mono p-3 bg-gray-100 rounded-lg">
                                <p id="ipExample" class="text-lg">192.168.1.1</p>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="ipVersionsChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION 2: CLASSIFICATION -->
            <section id="classification" class="mb-20 scroll-mt-24">
                <h2 class="text-3xl font-bold text-center mb-4 section-title">Organizing the Addresses</h2>
                <p class="text-center max-w-3xl mx-auto mb-10">Initially, IP addresses were organized into rigid "classes," which proved highly inefficient. The modern solution, Classless Inter-Domain Routing (CIDR), provides the flexibility needed for today's internet by allowing network sizes to be defined precisely.</p>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="card p-6">
                        <h3 class="text-xl font-bold text-center mb-4 section-title">The Waste of Classful Addressing</h3>
                        <p class="text-sm text-center mb-4">The old classful system allocated fixed blocks of addresses. A "Class A" network was massive, while a "Class C" was tiny, leading to immense waste as organizations rarely fit perfectly into these rigid sizes.</p>
                        <div class="chart-container h-64">
                            <canvas id="classfulChart"></canvas>
                        </div>
                    </div>
                    <div class="card p-6">
                        <h3 class="text-xl font-bold text-center mb-4 section-title">The Flexibility of CIDR</h3>
                        <p class="text-sm text-center mb-4">CIDR uses a prefix (e.g., /24) to define the network size. Adjust the slider to see how changing the prefix alters the number of available host addresses for a network.</p>
                        <div class="text-center my-6">
                            <p class="font-mono text-2xl">192.168.1.0<span id="cidrPrefix" class="accent-color font-bold">/24</span></p>
                            <input id="cidrSlider" type="range" min="16" max="30" value="24" class="w-full mt-4">
                        </div>
                        <div class="text-center bg-blue-50 p-4 rounded-lg">
                            <p class="text-lg font-bold accent-color" id="hostCount">254</p>
                            <p class="text-sm">Available Host Addresses</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION 3: ROUTING -->
            <section id="routing" class="mb-20 scroll-mt-24">
                <h2 class="text-3xl font-bold text-center mb-4 section-title">How Data Finds Its Way</h2>
                <p class="text-center max-w-3xl mx-auto mb-10">Routing is the process of selecting a path for data to travel from source to destination. Routers are the traffic directors of the internet, using routing tables and protocols to make intelligent forwarding decisions for every packet.</p>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="card p-6 text-center cursor-pointer protocol-card" data-protocol="bgp">
                        <h3 class="text-xl font-bold section-title">BGP</h3>
                        <p class="text-sm font-semibold accent-color">Border Gateway Protocol</p>
                        <p class="text-xs mt-2 text-gray-500">The protocol of the internet backbone.</p>
                    </div>
                    <div class="card p-6 text-center cursor-pointer protocol-card" data-protocol="ospf">
                        <h3 class="text-xl font-bold section-title">OSPF</h3>
                        <p class="text-sm font-semibold accent-color">Open Shortest Path First</p>
                        <p class="text-xs mt-2 text-gray-500">Finds the fastest path within a network.</p>
                    </div>
                    <div class="card p-6 text-center cursor-pointer protocol-card" data-protocol="rip">
                        <h3 class="text-xl font-bold section-title">RIP</h3>
                        <p class="text-sm font-semibold accent-color">Routing Information Protocol</p>
                        <p class="text-xs mt-2 text-gray-500">Finds the path with the fewest hops.</p>
                    </div>
                </div>
                <div id="protocolDetails" class="mt-8 card p-6 hidden">
                    <h4 id="protocolDetailTitle" class="text-xl font-bold section-title mb-2"></h4>
                    <p id="protocolDetailText" class="text-sm"></p>
                </div>
            </section>

            <!-- SECTION 4: THE JOURNEY -->
            <section id="journey" class="mb-20 scroll-mt-24">
                <h2 class="text-3xl font-bold text-center mb-4 section-title">A Packet's Journey</h2>
                <p class="text-center max-w-3xl mx-auto mb-10">Data travels in a series of "hops" between routers. This step-by-step process, protected by a Time-to-Live (TTL) mechanism to prevent infinite loops, is what makes the internet both scalable and resilient. Scroll down to see the journey unfold.</p>
                
                <div class="relative p-4 md:p-8">
                    <div class="absolute left-1/2 top-0 bottom-0 w-1 bg-gray-200 -translate-x-1/2"></div>
                    <div id="flow-container" class="space-y-16">
                        <div class="flow-step flex items-center" data-step="1">
                            <div class="w-1/2 pr-8 text-right">
                                <div class="card p-4 inline-block">
                                    <h3 class="font-bold text-lg section-title">1. Packet Creation</h3>
                                    <p class="text-sm">Your device segments data into packets, each with a source and destination IP address.</p>
                                </div>
                            </div>
                            <div class="w-10 h-10 rounded-full bg-blue-500 text-white flex items-center justify-center z-10 text-2xl absolute left-1/2 -translate-x-1/2">💻</div>
                            <div class="w-1/2 pl-8"></div>
                        </div>
                        <div class="flow-step flex items-center" data-step="2">
                            <div class="w-1/2 pr-8"></div>
                             <div class="w-10 h-10 rounded-full bg-blue-500 text-white flex items-center justify-center z-10 text-2xl absolute left-1/2 -translate-x-1/2">🏠</div>
                            <div class="w-1/2 pl-8 text-left">
                                <div class="card p-4 inline-block">
                                    <h3 class="font-bold text-lg section-title">2. Local Router (Gateway)</h3>
                                    <p class="text-sm">The packet is sent to your local router, which uses NAT to assign its public IP address.</p>
                                </div>
                            </div>
                        </div>
                        <div class="flow-step flex items-center" data-step="3">
                            <div class="w-1/2 pr-8 text-right">
                                <div class="card p-4 inline-block">
                                    <h3 class="font-bold text-lg section-title">3. ISP Router</h3>
                                    <p class="text-sm">The first hop outside your network. The ISP's router consults its tables to find the next hop.</p>
                                </div>
                            </div>
                             <div class="w-10 h-10 rounded-full bg-blue-500 text-white flex items-center justify-center z-10 text-2xl absolute left-1/2 -translate-x-1/2">🏢</div>
                            <div class="w-1/2 pl-8"></div>
                        </div>
                        <div class="flow-step flex items-center" data-step="4">
                            <div class="w-1/2 pr-8"></div>
                             <div class="w-10 h-10 rounded-full bg-blue-500 text-white flex items-center justify-center z-10 text-2xl absolute left-1/2 -translate-x-1/2">🌐</div>
                            <div class="w-1/2 pl-8 text-left">
                                <div class="card p-4 inline-block">
                                    <h3 class="font-bold text-lg section-title">4. Internet Backbone</h3>
                                    <p class="text-sm">The packet traverses multiple routers. At each hop, its TTL value is reduced by one.</p>
                                </div>
                            </div>
                        </div>
                        <div class="flow-step flex items-center" data-step="5">
                            <div class="w-1/2 pr-8 text-right">
                                <div class="card p-4 inline-block">
                                    <h3 class="font-bold text-lg section-title">5. Destination Server</h3>
                                    <p class="text-sm">The packet arrives. The server processes it and sends a response back along a similar path.</p>
                                </div>
                            </div>
                            <div class="w-10 h-10 rounded-full bg-green-500 text-white flex items-center justify-center z-10 text-2xl absolute left-1/2 -translate-x-1/2">☁️</div>
                            <div class="w-1/2 pl-8"></div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        
        <footer class="text-center mt-16 border-t border-gray-200 pt-8">
            <p class="text-sm text-gray-500">This interactive guide illustrates the fundamental principles of internet communication. This layered and distributed design is what enables the global, fault-tolerant network we rely on today.</p>
        </footer>
    </div>

<script>
document.addEventListener('DOMContentLoaded', function () {
    const tooltipTitleCallback = {
        callbacks: {
            title: function(tooltipItems) {
                const item = tooltipItems[0];
                let label = item.chart.data.labels[item.dataIndex];
                return Array.isArray(label) ? label.join(' ') : label;
            },
            label: function(context) {
                let label = context.dataset.label || '';
                if (label) { label += ': '; }
                if (context.parsed !== null) {
                    label += new Intl.NumberFormat('en-US', { notation: 'compact', maximumFractionDigits: 1 }).format(context.parsed);
                }
                return label;
            }
        }
    };

    // Chart 1: IP Versions
    const ipVersionsCtx = document.getElementById('ipVersionsChart').getContext('2d');
    new Chart(ipVersionsCtx, {
        type: 'doughnut',
        data: {
            labels: ['IPv4 Addresses', 'IPv6 Addresses'],
            datasets: [{
                label: 'Number of Addresses',
                data: [4294967296, 3.4e38],
                backgroundColor: ['#007BFF', '#D3E8FF'],
                borderColor: '#F8F9FA',
                borderWidth: 4
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: { display: false },
                tooltip: tooltipTitleCallback
            }
        }
    });

    // Chart 2: Classful Addressing
    const classfulCtx = document.getElementById('classfulChart').getContext('2d');
    new Chart(classfulCtx, {
        type: 'bar',
        data: {
            labels: ['Class C', 'Class B', 'Class A'],
            datasets: [{
                label: 'Max Hosts per Network',
                data: [254, 65534, 16777214],
                backgroundColor: ['#89CFF0', '#4682B4', '#005A9C'],
            }]
        },
        options: {
            indexAxis: 'y',
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                x: {
                    type: 'logarithmic',
                    ticks: {
                        callback: function(value, index, values) {
                            return Number(value.toString()).toExponential()
                        }
                    }
                }
            },
            plugins: {
                legend: { display: false },
                tooltip: tooltipTitleCallback
            }
        }
    });

    // Interaction: CIDR Slider
    const cidrSlider = document.getElementById('cidrSlider');
    const cidrPrefix = document.getElementById('cidrPrefix');
    const hostCount = document.getElementById('hostCount');
    cidrSlider.addEventListener('input', function () {
        const prefix = this.value;
        cidrPrefix.textContent = `/${prefix}`;
        const hosts = Math.pow(2, 32 - prefix) - 2;
        hostCount.textContent = hosts > 0 ? new Intl.NumberFormat().format(hosts) : '0';
    });

    // Interaction: Protocol Details
    const protocolCards = document.querySelectorAll('.protocol-card');
    const protocolDetails = document.getElementById('protocolDetails');
    const protocolDetailTitle = document.getElementById('protocolDetailTitle');
    const protocolDetailText = document.getElementById('protocolDetailText');
    const protocolInfo = {
        bgp: { title: 'BGP (Border Gateway Protocol)', text: 'BGP is an External Gateway Protocol (EGP) used to exchange routing and reachability information among autonomous systems (AS) on the Internet. It makes routing decisions based on paths, network policies, or rule-sets configured by a network administrator and is crucial for the internet\'s global routing system.' },
        ospf: { title: 'OSPF (Open Shortest Path First)', text: 'OSPF is an Interior Gateway Protocol (IGP) used within a single large autonomous system. It uses a link-state routing algorithm and calculates the shortest path based on a "cost" metric, which factors in variables like bandwidth, making it highly efficient and scalable for internal networks.' },
        rip: { title: 'RIP (Routing Information Protocol)', text: 'RIP is one of the oldest Interior Gateway Protocols. It uses hop count as its sole routing metric. A hop is one pass through a router. RIP is simple but less effective in large networks as it doesn\'t consider path speed or congestion, only the number of routers.' }
    };

    protocolCards.forEach(card => {
        card.addEventListener('click', function () {
            const protocol = this.dataset.protocol;
            protocolDetailTitle.textContent = protocolInfo[protocol].title;
            protocolDetailText.textContent = protocolInfo[protocol].text;
            protocolDetails.classList.remove('hidden');
        });
    });

    // Interaction: Smooth Scrolling & Nav Highlighting
    const navLinks = document.querySelectorAll('nav a');
    const sections = document.querySelectorAll('main section');

    window.addEventListener('scroll', () => {
        let current = '';
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            if (pageYOffset >= sectionTop - 120) {
                current = section.getAttribute('id');
            }
        });

        navLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href').includes(current)) {
                link.classList.add('active');
            }
        });
    });
    
    navLinks.forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });

    // Interaction: Animate flow on scroll
    const flowSteps = document.querySelectorAll('.flow-step');
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
            }
        });
    }, { threshold: 0.5 });

    flowSteps.forEach(step => {
        observer.observe(step);
    });
});
</script>

</body>
</html>